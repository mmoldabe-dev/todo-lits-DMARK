<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>TodoApp - Task Management</title>
    <link rel="preload" href="./src/assets/fonts/nunito-v16-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
</head>
<body>

    <div id="loading" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ TodoApp...</p>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app-container" style="display: none;">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <h1 class="app-title">
                        <svg class="app-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M9 12l2 2 4-4"/>
                            <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"/>
                        </svg>
                        TodoApp
                    </h1>
                </div>
                <div class="header-actions">
                    <button id="themeToggle" class="theme-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
                        <svg class="theme-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="12" r="5"/>
                            <line x1="12" y1="1" x2="12" y2="3"/>
                            <line x1="12" y1="21" x2="12" y2="23"/>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                            <line x1="1" y1="12" x2="3" y2="12"/>
                            <line x1="21" y1="12" x2="23" y2="12"/>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="dashboard">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="3" y="3" width="7" height="7"/>
                    <rect x="14" y="3" width="7" height="7"/>
                    <rect x="14" y="14" width="7" height="7"/>
                    <rect x="3" y="14" width="7" height="7"/>
                </svg>
                –î–∞—à–±–æ—Ä–¥
            </button>
            <button class="tab-btn" data-tab="tasks">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M9 12l2 2 4-4"/>
                    <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"/>
                </svg>
                –ó–∞–¥–∞—á–∏
            </button>
        </nav>

        <!-- Dashboard Tab -->
        <main id="dashboard-tab" class="tab-content active">
            <div class="dashboard-grid">
                <!-- Stats Cards -->
                <div class="stats-section">
                    <div class="stats-grid">
                        <div class="stat-card total">
                            <div class="stat-icon">üìã</div>
                            <div class="stat-content">
                                <div class="stat-number" id="totalTasks">0</div>
                                <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞—á</div>
                            </div>
                        </div>
                        <div class="stat-card pending">
                            <div class="stat-icon">‚è≥</div>
                            <div class="stat-content">
                                <div class="stat-number" id="pendingTasks">0</div>
                                <div class="stat-label">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</div>
                            </div>
                        </div>
                        <div class="stat-card completed">
                            <div class="stat-icon">‚úÖ</div>
                            <div class="stat-content">
                                <div class="stat-number" id="completedTasks">0</div>
                                <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                            </div>
                        </div>
                        <div class="stat-card overdue">
                            <div class="stat-icon">üî•</div>
                            <div class="stat-content">
                                <div class="stat-number" id="overdueTasks">0</div>
                                <div class="stat-label">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                    <div class="action-buttons">
                        <button class="action-btn primary" id="addTaskBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
                        </button>
                        <button class="action-btn" id="viewTodayBtn">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                <line x1="16" y1="2" x2="16" y2="6"/>
                                <line x1="8" y1="2" x2="8" y2="6"/>
                                <line x1="3" y1="10" x2="21" y2="10"/>
                            </svg>
                            –ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
                        </button>
                    </div>
                </div>

                <!-- Recent Tasks -->
                <div class="recent-tasks">
                    <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–¥–∞—á–∏</h3>
                    <div id="recentTasksList" class="task-list-mini"></div>
                </div>

                <!-- Overdue Tasks -->
                <div class="overdue-section">
                    <h3>–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏</h3>
                    <div id="overdueTasksList" class="task-list-mini"></div>
                </div>
            </div>
        </main>

        <!-- Tasks Tab -->
        <main id="tasks-tab" class="tab-content">
            <!-- Add Task Form -->
            <section class="add-task-section">
                <div class="task-form" id="taskForm">
                    <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É</h3>
                    <div class="form-row">
                        <input type="text" id="taskTitle" class="form-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏" maxlength="255" required>
                    </div>
                    <div class="form-row">
                        <textarea id="taskDescription" class="form-textarea" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" maxlength="1000"></textarea>
                    </div>
                    <div class="form-row form-row-inline">
                        <div class="form-group">
                            <label for="taskPriority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</label>
                            <select id="taskPriority" class="form-select">
                                <option value="low">–ù–∏–∑–∫–∏–π</option>
                                <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                                <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="taskDueDate">–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:</label>
                            <input type="datetime-local" id="taskDueDate" class="form-input">
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="saveTaskBtn" class="btn btn-primary">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <line x1="12" y1="5" x2="12" y2="19"/>
                                <line x1="5" y1="12" x2="19" y2="12"/>
                            </svg>
                            –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
                        </button>
                        <button type="button" id="cancelEditBtn" class="btn btn-secondary" style="display: none;">–û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            </section>

            <!-- Search and Filters -->
            <section class="controls-section">
                <div class="search-bar">
                    <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="11" cy="11" r="8"/>
                        <path d="M21 21l-4.35-4.35"/>
                    </svg>
                    <input type="text" id="searchInput" class="search-input" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á...">
                </div>
                <div class="filters">
                    <div class="filter-group">
                        <label for="statusFilter">–°—Ç–∞—Ç—É—Å:</label>
                        <select id="statusFilter" class="filter-select">
                            <option value="">–í—Å–µ</option>
                            <option value="pending">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                            <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="priorityFilter">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:</label>
                        <select id="priorityFilter" class="filter-select">
                            <option value="">–í—Å–µ</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="dateFilter">–î–∞—Ç–∞:</label>
                        <select id="dateFilter" class="filter-select">
                            <option value="">–í—Å–µ</option>
                            <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                            <option value="week">–ù–∞ –Ω–µ–¥–µ–ª—é</option>
                            <option value="overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="sortBy">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                        <select id="sortBy" class="filter-select">
                            <option value="created_at">–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è</option>
                            <option value="due_date">–ü–æ —Å—Ä–æ–∫—É</option>
                            <option value="priority">–ü–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="sortOrder" class="filter-select">
                            <option value="desc">–ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                            <option value="asc">–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Tasks Lists -->
            <section class="tasks-section">
                <!-- Active Tasks -->
                <div class="task-group" id="activeTasksGroup">
                    <div class="task-group-header">
                        <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ (<span id="activeTaskCount">0</span>)</h3>
                        <button class="collapse-btn" data-target="activeTasksList">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="6,9 12,15 18,9"/>
                            </svg>
                        </button>
                    </div>
                    <div id="activeTasksList" class="task-list"></div>
                </div>

                <!-- Completed Tasks -->
                <div class="task-group" id="completedTasksGroup">
                    <div class="task-group-header">
                        <h3>–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (<span id="completedTaskCount">0</span>)</h3>
                        <button class="collapse-btn" data-target="completedTasksList">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <polyline points="6,9 12,15 18,9"/>
                            </svg>
                        </button>
                    </div>
                    <div id="completedTasksList" class="task-list"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h3>
            </div>
            <div class="modal-body">
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É?</p>
                <p class="task-title-preview" id="deleteTaskTitle"></p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="confirmDeleteBtn">–£–¥–∞–ª–∏—Ç—å</button>
                <button class="btn btn-secondary" id="cancelDeleteBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="./src/main.js" type="module"></script>
</body>
</html>